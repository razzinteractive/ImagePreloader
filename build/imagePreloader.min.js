!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.imagePreloader=n():e.imagePreloader=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){var r=t(2),o=function(e,n){this.onProgress="function"==typeof n?n:null,this.fallbackImage="string"==typeof e||e instanceof HTMLImageElement?e:null};o.simplePreload=function(e){return new Promise(function(n,t){var r;e instanceof HTMLImageElement?(r=e,r.complete?r.naturalHeight?n(r):t(r):(r.onload=n.bind(null,r),r.onerror=r.onabort=t.bind(null,r))):"string"==typeof e&&(r=new Image,r.crossOrigin="Anonymous",r.onload=n.bind(null,r),r.onerror=r.onabort=t.bind(null,r),r.src=e)})},o.prototype.preload=function(e){var n=this,t=Array.prototype.concat.apply([],Array.prototype.slice.call(arguments));return t=t.map(function(e){return o.simplePreload(e).catch(function(e){return n.fallbackImage?o.simplePreload(n.fallbackImage).then(function(n){return e.setAttribute("data-fail-src",e.src),e.src=n.src,e},function(){return Promise.reject(e)}):Promise.reject(e)})}),r(t,n.onProgress)},e.exports=o},function(e,n){function t(e,n){var t=e.map(function(e){return e.then(function(e){return{value:e,status:!0}},function(e){return{value:e,status:!1}}).then(function(e){return"function"==typeof n&&n(e),e})});return Promise.all(t)}e.exports=t}])});
//# sourceMappingURL=imagePreloader.min.js.map